"use strict";
/*!

* EDITED BY LIQUID THEMES *

* pagepiling.js 1.5.5
*
* https://github.com/alvarotrigo/pagePiling.js
* @license MIT licensed
*
* Copyright (C) 2016 alvarotrigo.com - A project by Alvaro Trigo
*/!function(n,e,t,o){n.fn.pagepiling=function(o){function i(n){n.addClass("pp-table").wrapInner('<div class="pp-tableCell" style="height:100%" />')}function a(e){var t,o;return n(".pp-section.active").index(".pp-section")>e.index(".pp-section")?"up":"down"}function c(e,t){var o={destination:e,animated:t,activeSection:n(".pp-section.active"),anchorLink:e.data("anchor"),sectionIndex:e.index(".pp-section"),toMove:e,yMovement:a(e),leavingSection:n(".pp-section.active").index(".pp-section")+1};if(!o.activeSection.is(e)){if(void 0===o.animated&&(o.animated=!0),void 0!==o.anchorLink&&u(o.anchorLink,o.sectionIndex),o.destination.addClass("active").siblings().removeClass("active"),o.sectionsToMove=l(o),"down"===o.yMovement){if(o.translate3d=q(),o.destination.is(".pp-auto-height")){var i=-1*o.destination.outerHeight()+"px";o.translate3d="translate3d(0px, ".concat(i,", 0px)"),o.scrolling=i,o.sectionsToMove=o.activeSection}else o.scrolling="-100%";Z.css3||o.sectionsToMove.each((function(e){e!=o.activeSection.index(".pp-section")&&n(this).css(d(o.scrolling))})),o.animateSection=o.activeSection}else o.translate3d="",o.scrolling="0",o.animateSection=e;n.isFunction(Z.onLeave)&&Z.onLeave.call(this,o.leavingSection,o.sectionIndex+1,o.yMovement),s(o),U(o.anchorLink),A(o.anchorLink,o.sectionIndex),F=o.anchorLink;var c=(new Date).getTime();H=c}}function s(e){Z.css3?(w(e.animateSection,e.translate3d,e.animated),e.sectionsToMove.each((function(){w(n(this),e.translate3d,e.animated)})),setTimeout((function(){r(e)}),Z.scrollingSpeed)):(e.scrollOptions=d(e.scrolling),e.animated?e.animateSection.animate(e.scrollOptions,Z.scrollingSpeed,Z.easing,(function(){p(e),r(e)})):(e.animateSection.css(d(e.scrolling)),setTimeout((function(){p(e),r(e)}),400)))}function r(e){n.isFunction(Z.afterLoad)&&Z.afterLoad.call(this,e.anchorLink,e.sectionIndex+1)}function l(e){var t;return t="down"===e.yMovement?n(".pp-section").map((function(t){if(t<e.destination.index(".pp-section"))return n(this)})):n(".pp-section").map((function(t){if(t>e.destination.index(".pp-section"))return n(this)}))}function p(e){"up"===e.yMovement&&e.sectionsToMove.each((function(t){n(this).css(d(e.scrolling))}))}function d(n){return"vertical"===Z.direction?{top:n}:{left:n}}function v(n,e){Z.css3?w(n,q(),!1):n.css(d(e))}function u(n,e){Z.anchors.length?(location.hash=n,h(location.hash)):h(String(e))}function h(e){e=e.replace("#",""),n("body")[0].className=n("body")[0].className.replace(/\b\s?pp-viewing-[^\s]+\b/g,""),n("body").addClass("pp-viewing-"+e)}function f(){var o,i=t.location.hash.replace("#",""),a=n(e).find('.pp-section[data-anchor="'+i+'"]');a.length>0&&c(a,Z.animateAnchor)}function m(){var n;return(new Date).getTime()-H<600+Z.scrollingSpeed}function g(){var o,i=t.location.hash.replace("#","").split("/")[0],a;i.length&&(i&&i!==F&&c(a=isNaN(i)?n(e).find('[data-anchor="'+i+'"]'):n(".pp-section").eq(i-1)))}function S(n){return{"-webkit-transform":n,"-moz-transform":n,"-ms-transform":n,transform:n}}function w(n,e,t){n.css(S(e))}function b(e){var o=(new Date).getTime(),i=(e=e||t.event).wheelDelta||-e.deltaY||-e.detail,a=Math.max(-1,Math.min(1,i)),c=void 0!==e.wheelDeltaX||void 0!==e.deltaX,s=Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta)||Math.abs(e.deltaX)<Math.abs(e.deltaY)||!c;G.length>149&&G.shift(),G.push(Math.abs(i));var r=o-_;if(_=o,r>200&&(G=[]),!m()){var l,p=T(n(".pp-section.active")),d,v,u;return M(G,10)>=M(G,70)&&s&&(a<0?x("down",p):a>0&&x("up",p)),!1}}function M(n,e){for(var t=0,o=n.slice(Math.max(n.length-e,1)),i=0;i<o.length;i++)t+=o[i];return Math.ceil(t/e)}function x(n,e){var t,o;if("down"==n?(t="bottom",o=O.moveSectionDown):(t="top",o=O.moveSectionUp),e.length>0){if(!y(t,e))return!0;o()}else o()}function y(n,e){return"top"===n?!e.scrollTop():"bottom"===n?e.scrollTop()+1+e.innerHeight()>=e[0].scrollHeight:void 0}function T(n){return n.filter(".pp-scrollable")}function C(){B.get(0).addEventListener?(B.get(0).removeEventListener("mousewheel",b,!1),B.get(0).removeEventListener("wheel",b,!1)):B.get(0).detachEvent("onmousewheel",b)}function k(){B.get(0).addEventListener?(B.get(0).addEventListener("mousewheel",b,!1),B.get(0).addEventListener("wheel",b,!1)):B.get(0).attachEvent("onmousewheel",b)}function E(){if(Q){var n=D();B.off("touchstart "+n.down).on("touchstart "+n.down,P),B.off("touchmove "+n.move).on("touchmove "+n.move,Y)}}function L(){if(Q){var n=D();B.off("touchstart "+n.down),B.off("touchmove "+n.move)}}function D(){var n;return n=t.PointerEvent?{down:"pointerdown",move:"pointermove",up:"pointerup"}:{down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp"}}function X(n){var e=new Array;return e.y=void 0!==n.pageY&&(n.pageY||n.pageX)?n.pageY:n.touches[0].pageY,e.x=void 0!==n.pageX&&(n.pageY||n.pageX)?n.pageX:n.touches[0].pageX,e}function I(n){return void 0===n.pointerType||"mouse"!=n.pointerType}function P(n){var e=n.originalEvent;if(I(e)){var t=X(e);R=t.y,j=t.x}}function Y(e){var t=e.originalEvent;if(!N(e.target)&&I(t)){var o,i=T(n(".pp-section.active"));if(i.length||e.preventDefault(),!m()){var a=X(t);K=a.y,V=a.x,"horizontal"===Z.direction&&Math.abs(j-V)>Math.abs(R-K)?Math.abs(j-V)>B.width()/100*Z.touchSensitivity&&(j>V?x("down",i):V>j&&x("up",i)):Math.abs(R-K)>B.height()/100*Z.touchSensitivity&&(R>K?x("down",i):K>R&&x("up",i))}}}function N(e,t){t=t||0;var o=n(e).parent();return!!(t<Z.normalScrollElementTouchThreshold&&o.is(Z.normalScrollElements))||t!=Z.normalScrollElementTouchThreshold&&N(o,++t)}function z(){n("body").append('<div id="pp-nav"><ul></ul></div>');var e=n("#pp-nav");e.addClass(Z.navigation.position);for(var t=0;t<n(".pp-section").length;t++){var o="";if(Z.anchors.length&&(o=Z.anchors[t]),"undefined"!==Z.navigation.tooltips){var i=Z.navigation.tooltips[t];void 0===i&&(i="")}e.find("ul").append('<li data-tooltip="'.concat(i,'">\n\t\t\t\t\t\t\t<a href="#').concat(o,'">\n\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<span class="pp-tooltip ').concat(Z.navigation.position,'">').concat(i,"</span>\n\t\t\t\t\t\t</li>"))}}function A(e,t){Z.navigation&&(n("#pp-nav").find(".active").removeClass("active"),e?n("#pp-nav").find('a[href="#'+e+'"]').addClass("active"):n("#pp-nav").find("li").eq(t).find("a").addClass("active"))}function U(e){Z.menu&&(n(Z.menu).find(".active").removeClass("active"),n(Z.menu).find('[data-menuanchor="'+e+'"]').addClass("active"))}function W(){var n=e.createElement("p"),o,i={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var a in e.body.insertBefore(n,null),i)void 0!==n.style[a]&&(n.style[a]="translate3d(1px,1px,1px)",o=t.getComputedStyle(n).getPropertyValue(i[a]));return e.body.removeChild(n),void 0!==o&&o.length>0&&"none"!==o}function q(){return Z.direction,""}var O=n.fn.pagepiling,B=n(this),F,H=0,Q="ontouchstart"in t||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,R=0,j=0,K=0,V=0,G=[],J=600,Z=n.extend(!0,{direction:"vertical",menu:null,verticalCentered:!0,sectionsColor:[],anchors:[],scrollingSpeed:700,easing:"easeInQuart",loopBottom:!1,loopTop:!1,css3:!0,navigation:{textColor:"#000",bulletsColor:"#000",position:"right",tooltips:[]},normalScrollElements:null,normalScrollElementTouchThreshold:5,touchSensitivity:5,keyboardScrolling:!0,sectionSelector:".section",animateAnchor:!1,afterLoad:null,onLeave:null,afterRender:null},o);n.extend(n.easing,{easeInQuart:function n(e,t,o,i,a){return i*(t/=a)*t*t*t+o}}),O.setScrollingSpeed=function(n){Z.scrollingSpeed=n},O.setMouseWheelScrolling=function(n){n?k():C()},O.setAllowScrolling=function(n){n?(O.setMouseWheelScrolling(!0),E()):(O.setMouseWheelScrolling(!1),L())},O.setKeyboardScrolling=function(n){Z.keyboardScrolling=n},O.moveSectionUp=function(){var e=n(".pp-section.active").prev(".pp-section");!e.length&&Z.loopTop&&(e=n(".pp-section").last()),e.length&&c(e)},O.moveSectionDown=function(){var e=n(".pp-section.active").next(".pp-section");!e.length&&Z.loopBottom&&(e=n(".pp-section").first()),e.length&&c(e)},O.moveTo=function(t){var o="";(o=isNaN(t)?n(e).find('[data-anchor="'+t+'"]'):n(".pp-section").eq(t-1)).length>0&&c(o)},n(Z.sectionSelector).each((function(){n(this).addClass("pp-section")})),Z.css3&&(Z.css3=W()),n(B).css({overflow:"hidden","-ms-touch-action":"none","touch-action":"none"}),O.setAllowScrolling(!0),n.isEmptyObject(Z.navigation)||z();var $=n(".pp-section").length;n(".pp-section").each((function(e){n(this).data("data-index",e),n(this).css("z-index",$),e||0!==n(".pp-section.active").length||n(this).addClass("active"),void 0!==Z.anchors[e]&&n(this).attr("data-anchor",Z.anchors[e]),void 0!==Z.sectionsColor[e]&&n(this).css("background-color",Z.sectionsColor[e]),Z.verticalCentered&&!n(this).hasClass("pp-scrollable")&&i(n(this)),$-=1})).promise().done((function(){Z.navigation&&n("#pp-nav").find("li").eq(n(".pp-section.active").index(".pp-section")).find("a").addClass("active"),n(t).on("load",(function(){f()})),n.isFunction(Z.afterRender)&&Z.afterRender.call(this)})),n(t).on("hashchange",g),n(e).keydown((function(e){if(Z.keyboardScrolling&&!m())switch(e.which){case 38:case 33:O.moveSectionUp();break;case 40:case 34:O.moveSectionDown();break;case 36:O.moveTo(1);break;case 35:O.moveTo(n(".pp-section").length);break;case 37:O.moveSectionUp();break;case 39:O.moveSectionDown();break;default:return}})),Z.normalScrollElements&&(n(e).on("mouseenter",Z.normalScrollElements,(function(){O.setMouseWheelScrolling(!1)})),n(e).on("mouseleave",Z.normalScrollElements,(function(){O.setMouseWheelScrolling(!0)})));var _=(new Date).getTime()}}(jQuery,document,window);